{"ast":null,"code":"import BpmnTreeWalker from './BpmnTreeWalker';\n/**\n * The importBpmnDiagram result.\n *\n * @typedef {Object} ImportBPMNDiagramResult\n *\n * @property {Array<string>} warnings\n */\n\n/**\n* The importBpmnDiagram error.\n*\n* @typedef {Error} ImportBPMNDiagramError\n*\n* @property {Array<string>} warnings\n*/\n\n/**\n * Import the definitions into a diagram.\n *\n * Errors and warnings are reported through the specified callback.\n *\n * @param  {djs.Diagram} diagram\n * @param  {ModdleElement<Definitions>} definitions\n * @param  {ModdleElement<BPMNDiagram>} [bpmnDiagram] the diagram to be rendered\n * (if not provided, the first one will be rendered)\n *\n * Returns {Promise<ImportBPMNDiagramResult, ImportBPMNDiagramError>}\n */\n\nexport function importBpmnDiagram(diagram, definitions, bpmnDiagram) {\n  var importer, eventBus, translate;\n  var error,\n      warnings = [];\n  /**\n   * Walk the diagram semantically, importing (=drawing)\n   * all elements you encounter.\n   *\n   * @param {ModdleElement<Definitions>} definitions\n   * @param {ModdleElement<BPMNDiagram>} bpmnDiagram\n   */\n\n  function render(definitions, bpmnDiagram) {\n    var visitor = {\n      root: function (element) {\n        return importer.add(element);\n      },\n      element: function (element, parentShape) {\n        return importer.add(element, parentShape);\n      },\n      error: function (message, context) {\n        warnings.push({\n          message: message,\n          context: context\n        });\n      }\n    };\n    var walker = new BpmnTreeWalker(visitor, translate); // traverse BPMN 2.0 document model,\n    // starting at definitions\n\n    walker.handleDefinitions(definitions, bpmnDiagram);\n  }\n\n  return new Promise(function (resolve, reject) {\n    try {\n      importer = diagram.get('bpmnImporter');\n      eventBus = diagram.get('eventBus');\n      translate = diagram.get('translate');\n      eventBus.fire('import.render.start', {\n        definitions: definitions\n      });\n      render(definitions, bpmnDiagram);\n      eventBus.fire('import.render.complete', {\n        error: error,\n        warnings: warnings\n      });\n      return resolve({\n        warnings: warnings\n      });\n    } catch (e) {\n      e.warnings = warnings;\n      return reject(e);\n    }\n  });\n}","map":{"version":3,"names":["BpmnTreeWalker","importBpmnDiagram","diagram","definitions","bpmnDiagram","importer","eventBus","translate","error","warnings","render","visitor","root","element","add","parentShape","message","context","push","walker","handleDefinitions","Promise","resolve","reject","get","fire","e"],"sources":["D:/projects/Camunda/rpsboacamundajul2022/Camunda-Reactjs/node_modules/bpmn-js/lib/import/Importer.js"],"sourcesContent":["import BpmnTreeWalker from './BpmnTreeWalker';\n\n\n/**\n * The importBpmnDiagram result.\n *\n * @typedef {Object} ImportBPMNDiagramResult\n *\n * @property {Array<string>} warnings\n */\n\n/**\n* The importBpmnDiagram error.\n*\n* @typedef {Error} ImportBPMNDiagramError\n*\n* @property {Array<string>} warnings\n*/\n\n/**\n * Import the definitions into a diagram.\n *\n * Errors and warnings are reported through the specified callback.\n *\n * @param  {djs.Diagram} diagram\n * @param  {ModdleElement<Definitions>} definitions\n * @param  {ModdleElement<BPMNDiagram>} [bpmnDiagram] the diagram to be rendered\n * (if not provided, the first one will be rendered)\n *\n * Returns {Promise<ImportBPMNDiagramResult, ImportBPMNDiagramError>}\n */\nexport function importBpmnDiagram(diagram, definitions, bpmnDiagram) {\n\n  var importer,\n      eventBus,\n      translate;\n\n  var error,\n      warnings = [];\n\n  /**\n   * Walk the diagram semantically, importing (=drawing)\n   * all elements you encounter.\n   *\n   * @param {ModdleElement<Definitions>} definitions\n   * @param {ModdleElement<BPMNDiagram>} bpmnDiagram\n   */\n  function render(definitions, bpmnDiagram) {\n\n    var visitor = {\n\n      root: function(element) {\n        return importer.add(element);\n      },\n\n      element: function(element, parentShape) {\n        return importer.add(element, parentShape);\n      },\n\n      error: function(message, context) {\n        warnings.push({ message: message, context: context });\n      }\n    };\n\n    var walker = new BpmnTreeWalker(visitor, translate);\n\n    // traverse BPMN 2.0 document model,\n    // starting at definitions\n    walker.handleDefinitions(definitions, bpmnDiagram);\n  }\n\n  return new Promise(function(resolve, reject) {\n    try {\n      importer = diagram.get('bpmnImporter');\n      eventBus = diagram.get('eventBus');\n      translate = diagram.get('translate');\n\n      eventBus.fire('import.render.start', { definitions: definitions });\n\n      render(definitions, bpmnDiagram);\n\n      eventBus.fire('import.render.complete', {\n        error: error,\n        warnings: warnings\n      });\n\n      return resolve({ warnings: warnings });\n    } catch (e) {\n\n      e.warnings = warnings;\n      return reject(e);\n    }\n  });\n}\n"],"mappings":"AAAA,OAAOA,cAAP,MAA2B,kBAA3B;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,iBAAT,CAA2BC,OAA3B,EAAoCC,WAApC,EAAiDC,WAAjD,EAA8D;EAEnE,IAAIC,QAAJ,EACIC,QADJ,EAEIC,SAFJ;EAIA,IAAIC,KAAJ;EAAA,IACIC,QAAQ,GAAG,EADf;EAGA;AACF;AACA;AACA;AACA;AACA;AACA;;EACE,SAASC,MAAT,CAAgBP,WAAhB,EAA6BC,WAA7B,EAA0C;IAExC,IAAIO,OAAO,GAAG;MAEZC,IAAI,EAAE,UAASC,OAAT,EAAkB;QACtB,OAAOR,QAAQ,CAACS,GAAT,CAAaD,OAAb,CAAP;MACD,CAJW;MAMZA,OAAO,EAAE,UAASA,OAAT,EAAkBE,WAAlB,EAA+B;QACtC,OAAOV,QAAQ,CAACS,GAAT,CAAaD,OAAb,EAAsBE,WAAtB,CAAP;MACD,CARW;MAUZP,KAAK,EAAE,UAASQ,OAAT,EAAkBC,OAAlB,EAA2B;QAChCR,QAAQ,CAACS,IAAT,CAAc;UAAEF,OAAO,EAAEA,OAAX;UAAoBC,OAAO,EAAEA;QAA7B,CAAd;MACD;IAZW,CAAd;IAeA,IAAIE,MAAM,GAAG,IAAInB,cAAJ,CAAmBW,OAAnB,EAA4BJ,SAA5B,CAAb,CAjBwC,CAmBxC;IACA;;IACAY,MAAM,CAACC,iBAAP,CAAyBjB,WAAzB,EAAsCC,WAAtC;EACD;;EAED,OAAO,IAAIiB,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;IAC3C,IAAI;MACFlB,QAAQ,GAAGH,OAAO,CAACsB,GAAR,CAAY,cAAZ,CAAX;MACAlB,QAAQ,GAAGJ,OAAO,CAACsB,GAAR,CAAY,UAAZ,CAAX;MACAjB,SAAS,GAAGL,OAAO,CAACsB,GAAR,CAAY,WAAZ,CAAZ;MAEAlB,QAAQ,CAACmB,IAAT,CAAc,qBAAd,EAAqC;QAAEtB,WAAW,EAAEA;MAAf,CAArC;MAEAO,MAAM,CAACP,WAAD,EAAcC,WAAd,CAAN;MAEAE,QAAQ,CAACmB,IAAT,CAAc,wBAAd,EAAwC;QACtCjB,KAAK,EAAEA,KAD+B;QAEtCC,QAAQ,EAAEA;MAF4B,CAAxC;MAKA,OAAOa,OAAO,CAAC;QAAEb,QAAQ,EAAEA;MAAZ,CAAD,CAAd;IACD,CAfD,CAeE,OAAOiB,CAAP,EAAU;MAEVA,CAAC,CAACjB,QAAF,GAAaA,QAAb;MACA,OAAOc,MAAM,CAACG,CAAD,CAAb;IACD;EACF,CArBM,CAAP;AAsBD"},"metadata":{},"sourceType":"module"}