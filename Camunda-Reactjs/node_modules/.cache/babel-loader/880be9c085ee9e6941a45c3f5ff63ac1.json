{"ast":null,"code":"import { assign } from 'min-dash';\nimport { is } from './ModelUtil';\nexport var DEFAULT_LABEL_SIZE = {\n  width: 90,\n  height: 20\n};\nexport var FLOW_LABEL_INDENT = 15;\n/**\n * Returns true if the given semantic has an external label\n *\n * @param {BpmnElement} semantic\n * @return {boolean} true if has label\n */\n\nexport function isLabelExternal(semantic) {\n  return is(semantic, 'bpmn:Event') || is(semantic, 'bpmn:Gateway') || is(semantic, 'bpmn:DataStoreReference') || is(semantic, 'bpmn:DataObjectReference') || is(semantic, 'bpmn:DataInput') || is(semantic, 'bpmn:DataOutput') || is(semantic, 'bpmn:SequenceFlow') || is(semantic, 'bpmn:MessageFlow') || is(semantic, 'bpmn:Group');\n}\n/**\n * Returns true if the given element has an external label\n *\n * @param {djs.model.shape} element\n * @return {boolean} true if has label\n */\n\nexport function hasExternalLabel(element) {\n  return isLabel(element.label);\n}\n/**\n * Get the position for sequence flow labels\n *\n * @param  {Array<Point>} waypoints\n * @return {Point} the label position\n */\n\nexport function getFlowLabelPosition(waypoints) {\n  // get the waypoints mid\n  var mid = waypoints.length / 2 - 1;\n  var first = waypoints[Math.floor(mid)];\n  var second = waypoints[Math.ceil(mid + 0.01)]; // get position\n\n  var position = getWaypointsMid(waypoints); // calculate angle\n\n  var angle = Math.atan((second.y - first.y) / (second.x - first.x));\n  var x = position.x,\n      y = position.y;\n\n  if (Math.abs(angle) < Math.PI / 2) {\n    y -= FLOW_LABEL_INDENT;\n  } else {\n    x += FLOW_LABEL_INDENT;\n  }\n\n  return {\n    x: x,\n    y: y\n  };\n}\n/**\n * Get the middle of a number of waypoints\n *\n * @param  {Array<Point>} waypoints\n * @return {Point} the mid point\n */\n\nexport function getWaypointsMid(waypoints) {\n  var mid = waypoints.length / 2 - 1;\n  var first = waypoints[Math.floor(mid)];\n  var second = waypoints[Math.ceil(mid + 0.01)];\n  return {\n    x: first.x + (second.x - first.x) / 2,\n    y: first.y + (second.y - first.y) / 2\n  };\n}\nexport function getExternalLabelMid(element) {\n  if (element.waypoints) {\n    return getFlowLabelPosition(element.waypoints);\n  } else if (is(element, 'bpmn:Group')) {\n    return {\n      x: element.x + element.width / 2,\n      y: element.y + DEFAULT_LABEL_SIZE.height / 2\n    };\n  } else {\n    return {\n      x: element.x + element.width / 2,\n      y: element.y + element.height + DEFAULT_LABEL_SIZE.height / 2\n    };\n  }\n}\n/**\n * Returns the bounds of an elements label, parsed from the elements DI or\n * generated from its bounds.\n *\n * @param {BpmnElement} semantic\n * @param {djs.model.Base} element\n */\n\nexport function getExternalLabelBounds(semantic, element) {\n  var mid,\n      size,\n      bounds,\n      di = semantic.di,\n      label = di.label;\n\n  if (label && label.bounds) {\n    bounds = label.bounds;\n    size = {\n      width: Math.max(DEFAULT_LABEL_SIZE.width, bounds.width),\n      height: bounds.height\n    };\n    mid = {\n      x: bounds.x + bounds.width / 2,\n      y: bounds.y + bounds.height / 2\n    };\n  } else {\n    mid = getExternalLabelMid(element);\n    size = DEFAULT_LABEL_SIZE;\n  }\n\n  return assign({\n    x: mid.x - size.width / 2,\n    y: mid.y - size.height / 2\n  }, size);\n}\nexport function isLabel(element) {\n  return element && !!element.labelTarget;\n}","map":{"version":3,"names":["assign","is","DEFAULT_LABEL_SIZE","width","height","FLOW_LABEL_INDENT","isLabelExternal","semantic","hasExternalLabel","element","isLabel","label","getFlowLabelPosition","waypoints","mid","length","first","Math","floor","second","ceil","position","getWaypointsMid","angle","atan","y","x","abs","PI","getExternalLabelMid","getExternalLabelBounds","size","bounds","di","max","labelTarget"],"sources":["D:/projects/Camunda/rpsboacamundajul2022/Camunda-Reactjs/node_modules/bpmn-js/lib/util/LabelUtil.js"],"sourcesContent":["import {\n  assign\n} from 'min-dash';\n\nimport { is } from './ModelUtil';\n\n\nexport var DEFAULT_LABEL_SIZE = {\n  width: 90,\n  height: 20\n};\n\nexport var FLOW_LABEL_INDENT = 15;\n\n\n/**\n * Returns true if the given semantic has an external label\n *\n * @param {BpmnElement} semantic\n * @return {boolean} true if has label\n */\nexport function isLabelExternal(semantic) {\n  return is(semantic, 'bpmn:Event') ||\n         is(semantic, 'bpmn:Gateway') ||\n         is(semantic, 'bpmn:DataStoreReference') ||\n         is(semantic, 'bpmn:DataObjectReference') ||\n         is(semantic, 'bpmn:DataInput') ||\n         is(semantic, 'bpmn:DataOutput') ||\n         is(semantic, 'bpmn:SequenceFlow') ||\n         is(semantic, 'bpmn:MessageFlow') ||\n         is(semantic, 'bpmn:Group');\n}\n\n/**\n * Returns true if the given element has an external label\n *\n * @param {djs.model.shape} element\n * @return {boolean} true if has label\n */\nexport function hasExternalLabel(element) {\n  return isLabel(element.label);\n}\n\n/**\n * Get the position for sequence flow labels\n *\n * @param  {Array<Point>} waypoints\n * @return {Point} the label position\n */\nexport function getFlowLabelPosition(waypoints) {\n\n  // get the waypoints mid\n  var mid = waypoints.length / 2 - 1;\n\n  var first = waypoints[Math.floor(mid)];\n  var second = waypoints[Math.ceil(mid + 0.01)];\n\n  // get position\n  var position = getWaypointsMid(waypoints);\n\n  // calculate angle\n  var angle = Math.atan((second.y - first.y) / (second.x - first.x));\n\n  var x = position.x,\n      y = position.y;\n\n  if (Math.abs(angle) < Math.PI / 2) {\n    y -= FLOW_LABEL_INDENT;\n  } else {\n    x += FLOW_LABEL_INDENT;\n  }\n\n  return { x: x, y: y };\n}\n\n\n/**\n * Get the middle of a number of waypoints\n *\n * @param  {Array<Point>} waypoints\n * @return {Point} the mid point\n */\nexport function getWaypointsMid(waypoints) {\n\n  var mid = waypoints.length / 2 - 1;\n\n  var first = waypoints[Math.floor(mid)];\n  var second = waypoints[Math.ceil(mid + 0.01)];\n\n  return {\n    x: first.x + (second.x - first.x) / 2,\n    y: first.y + (second.y - first.y) / 2\n  };\n}\n\n\nexport function getExternalLabelMid(element) {\n\n  if (element.waypoints) {\n    return getFlowLabelPosition(element.waypoints);\n  } else if (is(element, 'bpmn:Group')) {\n    return {\n      x: element.x + element.width / 2,\n      y: element.y + DEFAULT_LABEL_SIZE.height / 2\n    };\n  } else {\n    return {\n      x: element.x + element.width / 2,\n      y: element.y + element.height + DEFAULT_LABEL_SIZE.height / 2\n    };\n  }\n}\n\n\n/**\n * Returns the bounds of an elements label, parsed from the elements DI or\n * generated from its bounds.\n *\n * @param {BpmnElement} semantic\n * @param {djs.model.Base} element\n */\nexport function getExternalLabelBounds(semantic, element) {\n\n  var mid,\n      size,\n      bounds,\n      di = semantic.di,\n      label = di.label;\n\n  if (label && label.bounds) {\n    bounds = label.bounds;\n\n    size = {\n      width: Math.max(DEFAULT_LABEL_SIZE.width, bounds.width),\n      height: bounds.height\n    };\n\n    mid = {\n      x: bounds.x + bounds.width / 2,\n      y: bounds.y + bounds.height / 2\n    };\n  } else {\n\n    mid = getExternalLabelMid(element);\n\n    size = DEFAULT_LABEL_SIZE;\n  }\n\n  return assign({\n    x: mid.x - size.width / 2,\n    y: mid.y - size.height / 2\n  }, size);\n}\n\nexport function isLabel(element) {\n  return element && !!element.labelTarget;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}